!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.PowerTable=t():e.PowerTable=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,exports,t){(function(r){e.exports=r.PowerTable=t(1)}).call(exports,function(){return this}())},function(e,exports,t){"use strict";function r(e,t){if(!e)throw new Error("Table instance requires 1st param `elem`");if(!t)throw new Error("Table instance requires 2nd param `config`");return t.plugins||(t.plugins=[]),t.plugins.push(o.Sortable),(0,n.Table)(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Table=r;var n=t(2),o=(t(10),t(12))},function(e,exports,t){"use strict";function r(e,r){function c(){return m=document.createElement("table"),m.classList.add("power-table"),Object.assign(y,{table:m}),e.innerHTML="",e.appendChild(m),m}function s(){if(v=document.querySelector("style#power-table"),!v){var e=t(8);v=document.createElement("style"),v.id="power-Table",v.innerHTML=e,document.head.appendChild(v)}}function u(){var e=r.plugins?r.plugins.map(function(e){return e(y)}):[];e.map(function(e){if(!e.name)throw new Error("Plugin must have a `name` property");return y[e.name]=y[e.name]?y[e.name]:{},"object"===n(e.mixins)&&Object.assign(y[e.name],e.mixins),e}),Object.assign(y,{plugins:e,hooks:(0,a.PluginHooks)({plugins:e})}),h=y.hooks}function d(){h.preRender(Object.assign({elem:m},y)),(0,l.renderTableHead)(y).then(function(e){m.appendChild(e),h.postHeader({elem:e})}),(0,l.renderTableBody)(y).then(function(e){m.appendChild(e),h.postRender({elem:m})})}function p(){m.addEventListener(i.events.createRenderEvent.eventName,function(e){console.warn("Table CustEvent Fired: "+i.events.createRenderEvent.eventName,e);var t=e.details.data;y.data=t,console.warn("Table CustEvent render: BEFORE "+i.events.createRenderEvent.eventName,t),b(),f()})}function f(){return s(),c(),p(),u(),d(),y}function b(){return h.destroy(Object.assign({elem:m},y)),v&&v.parentNode.removeChild(v),m&&m.parentNode.removeChild(m),y}var m=void 0,v=void 0,h=void 0,y={destroy:b};return r=(0,o.Config)(r),Object.assign(y,r),f()}Object.defineProperty(exports,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};exports.Table=r;var o=t(3),a=t(5),l=t(6),i=t(7)},function(e,exports,t){"use strict";function r(e){var t=e.columns,r=e.data,o=void 0===r?Promise.resolve([]):r,a=e.plugins,l=void 0===a?[]:a,i=e.debug,c=void 0===i?!1:i;return t=t.map(n.Column),{columns:t,data:o,plugins:l,debug:c}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Config=void 0;var n=t(4);exports.Config=r},function(e,exports){"use strict";function t(e){var t=("string"==typeof e.render?e.render:e.key?e.key:e.sort)||null,r=e["class"]||e.classes||"",n=e.title||t,o=e.sort||t,a=e.cols||2,l=e.render;return r=Array.isArray(r)?r:"string"==typeof r&&r.indexOf(" ")>-1?r.split(" "):"string"==typeof r&&r.length>=1?[r]:[],r.length<=0&&r.push("tbl-xs-"+a),Object.assign(e,{key:t,title:n,classes:r,sort:o,render:l})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Column=t},function(e,exports){"use strict";function t(e){var t=e.plugins,r=function(e){return function(r){var n=r.elem,o=r.data,a=r.column,l=r.rowIndex;return t.reduce(function(t,r){if(!t)return t;var n="function"==typeof r.handlers[e]?r.handlers[e](t):t;return n},{elem:n,data:o,column:a,rowIndex:l})}};return{preRender:r("preRender"),postRender:r("postRender"),preRow:r("preRow"),postRow:r("postRow"),preCell:r("preCell"),postCell:r("postCell"),preHeaderField:r("preHeaderField"),postHeaderField:r("postHeaderField"),postHeader:r("postHeader"),destroy:r("destroy")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PluginHooks=t},function(e,exports){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function r(e){var r=e.columns,n=e.hooks,o=document.createElement("thead"),a=r.reduce(function(e,r){var o,a=document.createElement("th");return n.preHeaderField({elem:a,column:r}),(o=a.classList).add.apply(o,t(r.classes)),a.innerHTML=r.title,a.render=r.render,a.opts=r.opts,a.column=r,e.appendChild(a),n.postHeaderField({elem:a,column:r}),e},document.createElement("tr"));return o.appendChild(a),Promise.resolve(o)}function n(e){var r=e.data,n=e.columns,o=e.hooks;return r?(r&&"function"!=typeof r.then&&(r=Promise.resolve(r||[])),r.then(function(e){var r=o.preRender({data:e});return console.error("renderTableBody.preRender.before =",r),e=Array.isArray(r.data)?r.data:e||[],e.reduce(function(e,r,a){var l=o.preRow({elem:e,rowIndex:a,data:r});if(!l.data)return console.info("plugin skipped row",a,r),e;var i=n.reduce(function(e,n){var l,i=document.createElement("td");return e.appendChild(i),(l=i.classList).add.apply(l,t(n.classes)),i.innerHTML="function"==typeof n.render?n.render({row:r,elem:i,column:n}):r[n.key],o.postCell({elem:i,column:n,rowIndex:a,data:r}),e},document.createElement("tr"));return o.postRow({elem:i,rowIndex:a,data:r}),e.appendChild(i),e},document.createElement("tbody"))})):(console.error("Data is null. Try set { data: <Promise|Array> } in PowerTable options"),[])}Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderTableHead=r,exports.renderTableBody=n},function(e,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function a(e){return new CustomEvent(a.eventName,{detail:Object.assign({},e),bubbles:!0,cancelable:!1})};t.eventName="render";var r=function l(e){return new CustomEvent(l.eventName,{detail:Object.assign({},e),bubbles:!0,cancelable:!1})};r.eventName="status";var n=function i(e){return new CustomEvent(i.eventName,{detail:Object.assign({},e),bubbles:!0,cancelable:!1})};n.eventName="select";var o=function c(e){return new CustomEvent(c.eventName,{detail:Object.assign({},e),bubbles:!0,cancelable:!1})};o.eventName="sorted";exports.events={createRenderEvent:t,createStatusEvent:r,createSelectEvent:n,createSortedEvent:o}},function(e,exports,t){exports=e.exports=t(9)(),exports.push([e.id,".unselectable{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.tbl-xs-1,.tbl-xs-2,.tbl-xs-3,.tbl-xs-4,.tbl-xs-5,.tbl-xs-6,.tbl-xs-7,.tbl-xs-8,.tbl-xs-9,.tbl-xs-10,.tbl-xs-11,.tbl-xs-12{display:inline-block;box-sizing:border-box}.tbl-xs-1{width:8.3333%}.tbl-xs-2{width:16.6666%}.tbl-xs-3{width:24.9999%}.tbl-xs-4{width:33.3332%}.tbl-xs-5{width:41.6665%}.tbl-xs-6{width:49.9998%}.tbl-xs-7{width:58.3331%}.tbl-xs-8{width:66.6664%}.tbl-xs-9{width:74.9997%}.tbl-xs-10{width:83.3331%}.tbl-xs-11{width:91.6663%}.tbl-xs-12{width:99.9996%}.power-table{width:100%;border-collapse:collapse}.power-table tr{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;display:inline-block;width:100%}.power-table thead{display:block;position:relative;width:100%}.power-table thead th{background:#f2f2f2;color:#626262;border:0;border-bottom:1px solid #aaa;display:inline-block;font-weight:900;font-size:1.31em;padding:6px 0;cursor:pointer;max-height:35px;overflow:hidden}.power-table tbody{border-color:#ddd;border-style:solid;border-width:0 0 0 1px;padding:6px 3px;overflow-y:hidden;display:block;overflow-y:scroll;height:250px;width:100%}.power-table tbody td{display:inline-block;text-align:left;margin:0}.power-table tbody .row-odd{background-color:#ececec!important}.power-table tbody tr{cursor:pointer;width:100%;display:inline-block;transition:background-color .2s ease-out}.power-table tbody tr.disabled{text-decoration:line-through!important;cursor:none}.power-table tbody tr.disabled input[type=checkbox]{display:none;-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none}.power-table tbody tr:hover .name{font-style:italic}.power-table tbody tr.selected{background-color:#b0b0b0!important;font-weight:700}.power-table tbody tr.selected .name{padding-left:4px;font-weight:700}.power-table .text-left{text-align:left!important}.power-table .text-center{text-align:center!important}.power-table .text-right{text-align:right!important}.power-table .text-justify{text-align:justify!important}",""])},function(e,exports){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(n[a]=!0)}for(o=0;o<t.length;o++){var l=t[o];"number"==typeof l[0]&&n[l[0]]||(r&&!l[2]?l[2]=r:r&&(l[2]="("+l[2]+") and ("+r+")"),e.push(l))}},e}},function(e,exports,t){"use strict";function r(e){function t(){return g.map(function(e){return e()})}function r(e){var t=(e.elem,e.data,e.column,e.rowIndex,v.querySelector("tbody"));if(!t)throw new Error("No table body found!!!!!");return t.addEventListener("click",m),g.push(function(){return t.removeEventListener("click",m)}),arguments[0]}function a(e){var t=e.elem;t.addEventListener("click",w),g.push(function(){return t.removeEventListener("click",w)})}function l(e){var t=(e.elem,e.data,e.column);e.rowIndex;return t.selection&&(t.title='<input id="toggleCheckAll" type="checkbox" title="Check/Uncheck All" value="" />',t.render=function(e){var t=(e.elem,e.column),r=e.row,o=t.getId||n.getId;return'<input type="checkbox" value="'+o(r)+'" '+(f(o(r))?' checked="checked"':"")+" />"}),arguments[0]}function i(){Array.from(v.querySelectorAll('.selection-col [type="checkbox"]')).map(function(e){return e.value}).map(s(!0))}function c(){Array.from(v.querySelectorAll('.selection-col [type="checkbox"]')).map(function(e){return e.value}).map(s(!1))}function s(e,t){if("string"==typeof t&&"boolean"==typeof e){var r=[t,e];e=r[0],t=r[1]}if(!e)return!1;var n=v.querySelector('[type="checkbox"][value="'+e+'"]');return n&&("undefined"!=typeof t&&null!==t||(t=!n.checked),t?(n.checked="checked",n.setAttribute("checked","checked"),n.parentNode.parentNode.classList.add("selected"),-1===y.indexOf(e)&&y.push(e)):(n.checked=void 0,n.removeAttribute("checked"),n.parentNode.parentNode.classList.remove("selected"),-1!==y.indexOf(e)&&y.splice(y.indexOf(e),1))),v.dispatchEvent(o.events.createStatusEvent({selected:y,data:h})),v.dispatchEvent(o.events.createSelectEvent({selected:y})),{id:e,checked:t,elem:n}}function u(e){return s(e,void 0)}function d(e){return s(e,!0)}function p(e){return s(e,!1)}function f(e){return y.indexOf(e)>-1}function b(){return y}function m(e){var t,r;"INPUT"===e.target.tagName?r=e.target.value:"TR"===e.target.tagName?(t=e.target.querySelector('input[type="checkbox"]'),t&&t.value&&(r=t.value)):"TD"===e.target.tagName&&(t=e.target.parentNode.querySelector('input[type="checkbox"]'),t&&t.value&&(r=t.value)),console.warn("_handleSelect Triggered",r,t,e),r&&(e.preventDefault(),u(r))}var v=e.table,h=e.data,y=[],g=[];return{name:"selectable",mixins:{isSelected:f,selectAdd:d,selectAll:i,selectToggle:u,getSelected:b,selectNone:c,selectRemove:p},handlers:{destroy:t,postRender:r,postHeader:a,preHeaderField:l}};var w}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Selectable=r;var n=t(11),o=t(7)},function(e,exports){"use strict";function t(e){return e=Array.isArray(e)?e:this,Array.from&&Array.from(e)||["upgrade your browser, pfft"]}function r(e){var t=function(t,r){return t[e]<r[e]?-1:t[e]>r[e]?1:0},r=function(t,r){return t[e]>=r[e]?-1:t[e]<r[e]?1:0};return"-"===e[0]?(e=e.substr(1),r):t}function n(e){return this instanceof NodeList&&(e=this),t(e).forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),e}function o(e){var t=e.id,r=e._id;return t||r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.toArray=t,exports.getSorter=r,exports.removeAll=n,exports.getId=o;exports.createElem=function(e){var r=document.createDocumentFragment(),n=document.createElement("div");return n.innerHTML=e,t(n.children).forEach(function(e){return r.appendChild(e)}),r}},function(e,exports,t){"use strict";function r(e){function t(e){d.dispatchEvent(o.events.createRenderEvent({data:e,table:d}))}function r(){d.dispatchEvent(o.events.createSortedEvent({sortBy:f}))}function a(){var e="&#9650;",t="&#9660;",r=(0,n.toArray)(d.querySelectorAll("b.sort-arrow")),o=d.querySelector("th[sort="+f.replace(/-/,"")+"]");if((0,n.removeAll)(r),o){var a=o.getAttribute("sort"),l=0===a.indexOf("-"),i=(0,n.createElem)("<b class='sort-arrow'>"+(l?t:e)+"</b>");o.appendChild(i)}}function l(){return p.map(function(e){return e()})}function i(e){var t=e.data,r=function(e,t){return e.sort((0,n.getSorter)(t))};return!f||f.length<=0?t:t&&"function"==typeof t.then?t.then(function(e){return r(e,f)}):t&&Array.isArray(t)?r(t,f):void 0}function c(e){var t=(e.elem,e.data,e.column,e.rowIndex,d.querySelector("thead"));if(!t)throw new Error("No table head found!!!!!");return t.addEventListener("click",b),p.push(function(){return t.removeEventListener("click",b)}),arguments[0]}function s(e){f=e,a(),t(),r()}function u(e){var t=e.elem,r=(e.data,e.column);e.rowIndex;return t.setAttribute("sort",r.sort),arguments[0]}var d=e.table,p=(e.config,[]),f="";return{name:"sortable",mixins:{sortByColumn:s},handlers:{destroy:l,preRender:i,postRender:c,preHeaderField:u}};var b}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Sortable=r;var n=t(11),o=t(7)}])});